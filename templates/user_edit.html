<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <title>Editar usuário</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{ --border:#e5e7eb; --muted:#6B7280; --text:#002F54; --bg:#f8fafc; --card:#fff; --accent:#22c55e; --accent-weak:#16a34a;}
    body{ margin:0; background:var(--bg); color:var(--text); font-family:ui-sans-serif,system-ui; }
    .wrap{ padding:16px; max-width:600px; margin:0 auto; }
    h1{ font-size:20px; font-weight:800; margin:8px 4px 16px; }
    .card{ background:var(--card); border:1px solid var(--border); border-radius:16px; padding:16px; box-shadow:0 4px 16px rgba(0,0,0,.06); }
    .row{ display:flex; flex-direction:column; gap:6px; margin-bottom:12px; }
    .input, select{ padding:10px 12px; border:1px solid var(--border); border-radius:10px; }
    .btn{ appearance:none; padding:10px 14px; border:1px solid var(--border); border-radius:10px; background:var(--accent); color:#062b16; font-weight:800; cursor:pointer; }
    .btn:hover{ background:var(--accent-weak); }
    .muted{ color:var(--muted); font-size:12px; }
  </style>
</head>
<body>
  {% include '_navbar.html' %}
  <div class="wrap">
    <h1>Editar usuário</h1>
    <form class="card" method="post">
      <div class="row">
        <label>Usuário</label>
        <input class="input" name="username" value="{{ user.username }}" required />
      </div>
      <div class="row">
        <label>Papel</label>
        <select name="role" class="input">
          {% for r in roles %}<option value="{{ r }}" {% if r==user.role %}selected{% endif %}>{{ r }}</option>{% endfor %}
        </select>
        <div class="muted">admin / supervisor / operator / viewer</div>
      </div>
      <div class="row">
        <label><input type="checkbox" name="active" {% if user.active %}checked{% endif %}/> Ativo</label>
      </div>
      <hr style="border:none;border-top:1px solid var(--border); margin:8px 0 12px;">
      <div class="row">
        <label>Nova senha (opcional)</label>
        <input class="input" type="password" name="password" placeholder="Deixe em branco para manter" />
      </div>
      <button class="btn" type="submit">Salvar alterações</button>
    </form>
  </div>
</body>
</html>
